# IPåœ°å€æ˜¾ç¤ºåŠŸèƒ½ä½¿ç”¨æŒ‡å—

## ğŸ“‹ åŠŸèƒ½æ¦‚è¿°

æ¯æ—¥å•è¯å¢¨æ°´å±æ˜¾ç¤ºç³»ç»Ÿç°å·²æ”¯æŒåœ¨åº•éƒ¨æ˜¾ç¤ºæ ‘è“æ´¾çš„IPåœ°å€ï¼Œæ–¹ä¾¿ç”¨æˆ·äº†è§£è®¾å¤‡çš„ç½‘ç»œè¿æ¥çŠ¶æ€ã€‚

## ğŸ¯ æ˜¾ç¤ºæ•ˆæœ

å¢¨æ°´å±åº•éƒ¨å°†æ˜¾ç¤ºå¦‚ä¸‹æ ¼å¼ï¼š
```
2025-01-02    IP: 192.168.1.100    æ•°æ®æº: API
```

- **å·¦ä¾§**: å½“å‰æ—¥æœŸ
- **ä¸­å¤®**: IPåœ°å€ï¼ˆå¦‚æœå¯ç”¨ä¸”è·å–æˆåŠŸï¼‰
- **å³ä¾§**: æ•°æ®æºä¿¡æ¯

## âš™ï¸ é…ç½®è¯´æ˜

### å¯ç”¨/ç¦ç”¨IPæ˜¾ç¤º

ç¼–è¾‘ `src/daily_word_config.py` æ–‡ä»¶ï¼š

```python
MONITOR_CONFIG = {
    'monitored_metrics': {
        'show_ip_address': True,    # True=æ˜¾ç¤ºIP, False=éšè—IP
        # ... å…¶ä»–é…ç½®
    }
}
```

### é…ç½®é€‰é¡¹

| é…ç½®é¡¹ | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|--------|------|
| `show_ip_address` | `True` | æ˜¯å¦åœ¨å¢¨æ°´å±ä¸Šæ˜¾ç¤ºIPåœ°å€ |

## ğŸ”§ ä½¿ç”¨æ–¹æ³•

### 1. å¯ç”¨IPæ˜¾ç¤ºåŠŸèƒ½

```bash
# ç¼–è¾‘é…ç½®æ–‡ä»¶
nano src/daily_word_config.py

# ç¡®ä¿ show_ip_address è®¾ç½®ä¸º True
# 'show_ip_address': True,
```

### 2. é‡å¯æœåŠ¡

```bash
# é‡å¯æœåŠ¡ä½¿é…ç½®ç”Ÿæ•ˆ
./manage.sh restart
```

### 3. éªŒè¯åŠŸèƒ½

```bash
# æŸ¥çœ‹ç³»ç»ŸçŠ¶æ€ï¼ˆåŒ…å«IPåœ°å€ï¼‰
python3 src/daily_word_main.py --status

# æ‰‹åŠ¨æ›´æ–°æ˜¾ç¤º
./manage.sh update

# è¿è¡Œæµ‹è¯•è„šæœ¬
python3 test_ip_display.py
```

## ğŸ“Š çŠ¶æ€æŸ¥è¯¢

ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹åŒ…å«IPåœ°å€çš„ç³»ç»ŸçŠ¶æ€ï¼š

```bash
python3 src/daily_word_main.py --status
```

è¾“å‡ºç¤ºä¾‹ï¼š
```
ç³»ç»ŸçŠ¶æ€:
  åç§°: Daily Word E-Paper Display
  ç‰ˆæœ¬: 1.0.0
  è¿è¡ŒçŠ¶æ€: è¿è¡Œä¸­
  IPåœ°å€: 192.168.1.100
  CPUæ¸©åº¦: 45.2Â°C
  æ—¶é—´æˆ³: 2025-01-02T16:00:00
  APIå®¢æˆ·ç«¯: æ­£å¸¸
  æ˜¾ç¤ºæ§åˆ¶å™¨: æ­£å¸¸
```

## ğŸ› ï¸ æ•…éšœæ’é™¤

### IPåœ°å€ä¸æ˜¾ç¤º

1. **æ£€æŸ¥é…ç½®**:
   ```bash
   grep -n "show_ip_address" src/daily_word_config.py
   ```

2. **æ£€æŸ¥ç½‘ç»œè¿æ¥**:
   ```bash
   ip addr show
   ping 8.8.8.8
   ```

3. **æŸ¥çœ‹æ—¥å¿—**:
   ```bash
   ./manage.sh logs
   ```

### å¸¸è§é—®é¢˜

| é—®é¢˜ | åŸå›  | è§£å†³æ–¹æ¡ˆ |
|------|------|----------|
| IPæ˜¾ç¤ºä¸ºç©º | ç½‘ç»œæœªè¿æ¥ | æ£€æŸ¥WiFi/ä»¥å¤ªç½‘è¿æ¥ |
| é…ç½®ä¸ç”Ÿæ•ˆ | æœåŠ¡æœªé‡å¯ | è¿è¡Œ `./manage.sh restart` |
| æ˜¾ç¤ºä½ç½®é‡å  | å±å¹•å°ºå¯¸é—®é¢˜ | æ£€æŸ¥å¢¨æ°´å±å‹å·é…ç½® |

## ğŸ” æŠ€æœ¯ç»†èŠ‚

### å®ç°åŸç†

1. **IPè·å–**: ä½¿ç”¨ `get_ipaddress.py` ä¸­çš„ `get_ip_address()` å‡½æ•°
2. **ç³»ç»Ÿé›†æˆ**: é€šè¿‡ `word_config_rpi.py` çš„ `get_system_info()` å‡½æ•°é›†æˆ
3. **æ˜¾ç¤ºæ¸²æŸ“**: åœ¨ `daily_word_display_controller.py` çš„ `_draw_footer()` æ–¹æ³•ä¸­æ¸²æŸ“
4. **çŠ¶æ€æŸ¥è¯¢**: é€šè¿‡ `daily_word_main.py` çš„ `get_system_status()` æ–¹æ³•æä¾›

### æ–‡ä»¶ä¿®æ”¹æ¸…å•

- âœ… `src/daily_word_config.py` - æ·»åŠ IPæ˜¾ç¤ºé…ç½®é€‰é¡¹
- âœ… `src/word_config_rpi.py` - é›†æˆIPåœ°å€è·å–åˆ°ç³»ç»Ÿä¿¡æ¯
- âœ… `src/daily_word_display_controller.py` - æ·»åŠ IPåœ°å€æ˜¾ç¤ºé€»è¾‘
- âœ… `src/daily_word_main.py` - æ›´æ–°ç³»ç»ŸçŠ¶æ€åŒ…å«IPä¿¡æ¯

### å®¹é”™æœºåˆ¶

- ç½‘ç»œæ–­å¼€æ—¶ä¸æ˜¾ç¤ºIPåœ°å€
- è·å–å¤±è´¥æ—¶è®°å½•è­¦å‘Šæ—¥å¿—ä½†ä¸å½±å“å…¶ä»–åŠŸèƒ½
- é…ç½®ç¦ç”¨æ—¶å®Œå…¨éšè—IPæ˜¾ç¤º

## ğŸ“ è‡ªå®šä¹‰é€‰é¡¹

### ä¿®æ”¹æ˜¾ç¤ºä½ç½®

ç¼–è¾‘ `src/daily_word_display_controller.py` ä¸­çš„ `_draw_footer()` æ–¹æ³•ï¼š

```python
# å½“å‰: å±…ä¸­æ˜¾ç¤º
center_x = (self.width - ip_width) // 2

# ä¿®æ”¹ä¸ºå·¦å¯¹é½
# center_x = left_margin + 100

# ä¿®æ”¹ä¸ºå³å¯¹é½  
# center_x = self.width - right_margin - ip_width
```

### ä¿®æ”¹æ˜¾ç¤ºæ ¼å¼

```python
# å½“å‰æ ¼å¼
ip_text = f"IP: {ip_address}"

# è‡ªå®šä¹‰æ ¼å¼
# ip_text = f"ç½‘ç»œ: {ip_address}"
# ip_text = f"{ip_address}"  # ä»…æ˜¾ç¤ºIP
```

## ğŸš€ åç»­æ‰©å±•

å¯ä»¥è€ƒè™‘æ·»åŠ çš„åŠŸèƒ½ï¼š
- æ˜¾ç¤ºWiFiä¿¡å·å¼ºåº¦
- æ˜¾ç¤ºç½‘ç»œè¿æ¥ç±»å‹ï¼ˆWiFi/ä»¥å¤ªç½‘ï¼‰
- æ˜¾ç¤ºç½‘ç»œé€Ÿåº¦
- æ”¯æŒIPv6åœ°å€æ˜¾ç¤º

---

**æ³¨æ„**: æ­¤åŠŸèƒ½éœ€è¦åœ¨æ ‘è“æ´¾ç¡¬ä»¶ç¯å¢ƒä¸­è¿è¡Œæ‰èƒ½æ­£å¸¸æ˜¾ç¤ºIPåœ°å€ã€‚